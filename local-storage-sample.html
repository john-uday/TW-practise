<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <input type="text" id="ipd">
    <button onclick="createtodo()">add todo</button>
    <ul id="todolist"></ul>
    <script>
        var todos = [];
        var ipd = document.getElementById("ipd");
        var todolist = document.getElementById("todolist");
        if (window.localStorage.getItem("todos")) {
            todos = JSON.parse(window.localStorage.getItem("todos"));
        }
          gentodo();
        function gentodo(){
           todolist.innerText="";
            todos.forEach((li,i) => {
                var oldlist = document.createElement("li");
                var btn=document.createElement("button");
                btn.innerHTML="delete";
                oldlist.innerText=li;
                btn.addEventListener("click",()=>{
                    todos.splice(i,1);
                    window.localStorage.setItem("todos",JSON.stringify(todos));
                    gentodo();
                }
                )
                oldlist.appendChild(btn);
                todolist.appendChild(oldlist);

            })
    }
        function createtodo() {
            var ipd=document.getElementById("ipd");
            todos.push(ipd.value);
            window.localStorage.setItem("todos",JSON.stringify(todos));
             
            gentodo();
 


        }
       
      

    </script>
</body>

</html>